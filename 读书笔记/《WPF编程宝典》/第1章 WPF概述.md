# 第1章 WPF概述

WPF（Windows Presentation Foundation）是用于Windows的现代图形显示系统。与之前出现的其他技术相比，WPF发生了根本性变化，引入了“内置硬件加速”和“分辨率无关”等创新功能：本章将介绍这两项功能。

如果要构建运行在Windows Vista、Windows 7和Windows 8桌面模式（以及对应的Windows Server版本）下的富桌面应用程序，WPF无疑是最适用的工具包。事实上，WPF是针对这些Windows版本的唯一通用工具包。比较起来，Microsoft新推出的Metro工具包虽然令人感到激动，但Metro的使用范围仅限于Windows 8系统。WPF的应用范围却广泛得多，它甚至可运行在仍在很多企业中使用的已经过时的Windows XP计算机上；唯一的局限性在于您必须对Visual Studio进行配置，使其将较为陈旧的.NET 4.0 Framework（而非.NET 4.5）作为目标。

本章将首先介绍WPF的体系结构，然后讨论WPF如何处理可变屏幕分辨率，将概述WPF的核心程序集和类，并将介绍WPF如何从初始版本演化为WPF 4.5。

## 1.1 Windows图形演化

在WPF问世之前的近15个年头，Windows开发人员一直在使用本质上相同的显示技术。究其原因，是由于此前的每个传统Windows应用程序都依靠Windows操作系统的如下两个由来已久的部分来创建用户界面：

* User32：该部分为许多元素（如窗口、按钮和文本框等）提供了熟悉的Windows外观。
* GDI/GDI+：该部分为渲染简单形状、文本以及图像提供了绘图支持，但增加了复杂程度（而且通常性能较差）。

历经多年发展，这两种技术都得到了改进，而且开发人员使用的与其交互的API也已发生了巨大变化。但在构建应用程序时，不管使用.NET和Windows窗体，还是使用过去的Visual Basic 6或基于MFC 的C++代码，底层都是使用Windows操作系统的相同部分来工作的。不同框架工具只是为与User32和GDI/GDI+进行交互提供了不同的封装器而已。这些框架工具能提高效率，降低复杂性，并提供了更多预置特性，从而使开发人员不必再自行编写底层代码，但这些框架工具不可能消除在10多年前设计的系统组件的基础限制。