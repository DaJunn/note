# 序

真的是不经意的工作机会，才使得我有从事Spring方面的项目架构和开发经验，不只是Spring，还有Hibermate和Tapestry也在其中。在Java Web 框架中，成熟的Tapestry现在是前端开发领域中的一枝独秀。Hibernate成为了O/R Mapping 领域事实上的标准，尤其是它对EJB3.0的巨大贡献。Spring 更不用说了，它使得开发者和具体J2EE平台技术处于“松耦合”的状态。它们的强强联手，使得开发软件产品过程确实是一种快乐，发自开发者内心的快乐。快乐是无限的，您也许不想错过。

Tapestry 推崇OO方式开发Web前端。它将HTTP底层API技术屏蔽起来，尤其是开发者再也不用直接面对JSP和Servlet了。Hibernate使得Java开发者能够高效地对RDBMS进行CRUD操作，而不管各种RDBMS所运行的平台、版本如何。尤其是开发者再也不用直接面对JDBC、SQL语句了，至少大部分场合是如此。Spring是各种Web框架的黏合剂，无论是在Open Source 领域，还是在非Open Source 领域。当然，Tapestry 和Hibernate 也在Spring 的操控范围内。架构级的Spring在主导着整个J2EE社区开发Web应用的方向。因此，Spring 是本书讨论的重点，但是Tapestry、Hibernate 也将在本书的视野中。

Spring，中文含义暂且理解为“春天"。春天，意味着万物复苏，而Spring将担当此任。

Spring IoC，借助于依赖注入设计模式，使得开发者不用理会对象自身不是件难事，难就难在处于Team中的各个对象，因为它们之间的关系往往是千变万化的。这正如开发者在不同团队中所处的不同角色一样。借助于Spring IoC，不仅能够使得应用中对象的关系更加清晰、一致，而且还使得一切对象可控。最为重要的一点是，对象本身的生命周期及对象之间的关系不用再让开发者费神了。

Spring AOP，借助于Spring 实现的拦截器，开发者能够实现以声明方式使用企业级服务，比如安全性服务、事务服务。请记住，AOP能够合理地补充OOP技术，Spring AOP合理地补充了Spring IoC容器。没有Spring IoC 的Spring AOP是不完善的，没有Spring AOP的 Spring IoC是不健壮的。借助于Spring AOP，开发者能够高效地使用J2EE企业服务。声明式、基于元数据访问企业级服务，这些都是Spring AOP 的操控范围。

Spring服务抽象，借助于各种J2EE API抽象，使得开发者能够一致地使用J2EE技术，而不管具体是使用什么J2EE API。借助于Spring服务抽象，使得应用代码大大减少，请记住“更少的代码、更少的Bug”的原则。另外，通过研究Spring服务抽象，使得开发者能够快速掌握各种J2EE API的核心内容，因为Spring抽象服务是架构在J2EE API基础之上的。请记住，Template方法实现是Spring服务抽象中至关重要的开发利器。缺少Template方法实现，会使Spring操作JNDI、Transaction、JMS、Hibernate等企业级服务显得生涩。

Spring IoC + Spring AOP + Spring服务抽象，一起形成了Spring。这样一个有机的整体，使得构建轻量级的J2EE架构成为可能，而且事实证明，非常有效。请记住，Team Wrok往往比单打独斗更具为例。如果剥离IoC、AOP或服务抽象中的任何一者，则Spring必然受伤不轻。正因为Spring提供了这样一套完整的利器，才使得它备受开发者推崇，这也是它同其他类似Web框架的区别所在。我们向来不相信有“银弹”，即使它存在，在它未到来之前，赶紧选择Spring吧。否则一旦“银弹”到来，您也可能措手不及！

如果您没有接触过Spring，则作为一名J2EE开发者，不熟悉Spring，有点勉为其难。因为，架构级的Spring框架已成为主流，，它已经冲入J2EE的核心，并在引领整个J2EE开发、架构的方向。现在正是学习并使用Spring开发企业级Java应用的时机。如果您还在观望的话，即使您不购买这本图书，作者还是希望您能够去使用Spring，从而体验Spring深层次的开发经验。基于我们的架构、开发经验，Spring富有内涵。随着您对Spring的日益使用，您会慢慢喜欢上它。

本书总共分成3部分。第一部分，重点阐述Spring的架构。这部分内容循序渐进带领开发者进入Spring中。主要在于阐述Spring IoC和Spring AOP。第二部分，重点阐述Spring的使用。这部分内容从简化Java/J2EE的角度出发，从J2EE平台各个技术层面分析，并给出大量的研究实例，对Spring提供的API进行阐述。主要在于阐述Spring对J2EE API提供的服务抽象。第三部分，重点阐述Spring高级专题。这部分内容重点对视图技术进行了研究，因为对于开发Web应用而言，前端界面的开发往往工作量很大。因此，使用合理的视图技术开发Web应用对于项目的成功与否很关键。另外，Web应用的安全性往往也是企业应用中最为重要的需求之一，而用于Spring的Acegi安全框架很好地解决了这个问题，这也是第三部分重点研究的内容之一。

在架构软件、开发软件的过程中，架构师（设计人员、开发者）往往会低估很多不重要的开发环节，最终导致了软件系统发布的延期。这其中，往往会有很多未预期的因素，比如人员变动、对新技术不熟悉、对产品需求的把握不准确，导致产品的延期。对于写书而言，也存在类似的因素。作者在编著《精通Spring》这本书之前，也低估了各种因素而导致图书交付日期的延迟。但是，这些现在都不是问题，因为我们（与此图书相关的角色）都克服了所有的困难。父母对全家的悉心照顾，爱妻的支持，乖巧听话的、还未满周岁的女儿，出版社为保证图书质量而提出的、富有成效的修改建议，还有那些关心此书的所有朋友、读者都是保证本书能够顺利出版的重要前提。在将近半年的时间中，他们都默默为此书付出了很多、很多。作者很感谢他们，没有他们的付出，就不可能有此书的诞生。当然，也感谢Spring开发团队的努力。请记住，热情、激情、友情、亲情是我们生活、工作的动力。

将此书献给所有的Java、J2EE开发者。

——J2EE架构师 罗时飞

————2005年3月于广州

